!function(t){var s={};function e(a){if(s[a])return s[a].exports;var i=s[a]={i:a,l:!1,exports:{}};return t[a].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=t,e.c=s,e.d=function(t,s,a){e.o(t,s)||Object.defineProperty(t,s,{enumerable:!0,get:a})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,s){if(1&s&&(t=e(t)),8&s)return t;if(4&s&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(e.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&s&&"string"!=typeof t)for(var i in t)e.d(a,i,function(s){return t[s]}.bind(null,i));return a},e.n=function(t){var s=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(s,"a",s),s},e.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)},e.p="",e(e.s=5)}([function(t,s,e){var a=e(1);"string"==typeof a&&(a=[[t.i,a,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};e(3)(a,i);a.locals&&(t.exports=a.locals)},function(t,s,e){(t.exports=e(2)(!1)).push([t.i,"* {\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n\r\n#colorChangeKey {\r\n  color: rgb(27, 27, 27);\r\n  background-color: #fffb00;\r\n  box-shadow: 0 0 10px #fffb00;\r\n}\r\n\r\n.after1 {\r\n  transform: translateY(-20px);\r\n}\r\n\r\n.after2 {\r\n  transform: translateY(20px);\r\n}\r\n\r\n.g-signin2, .acc{\r\n  margin-left: 768px;\r\n}\r\n\r\n.signOut {\r\n  text-decoration: none;\r\n  font-size: 24px;\r\n  color:rgb(255, 255, 255);\r\n  transition: 0.5s;\r\n  margin-left: 20px;\r\n}\r\n\r\n.acc {\r\n  width: 300px;\r\n  height: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.img-acc {\r\n  height: 100%;\r\n}\r\n\r\n.name-acc {\r\n  font-size: 20px;\r\n  color:rgb(255, 255, 255);\r\n  float: right;\r\n  margin-left: 30px;\r\n}\r\n\r\n.signOut:hover {\r\n  color: #fffb00;\r\n}\r\n\r\n.general {\r\n  display: grid;\r\n  grid-template-rows: 10vh 85vh;\r\n  background-color: rgb(27, 27, 27);\r\n}\r\n\r\n.header {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: #000000;\r\n  box-shadow: 0 0 10px rgb(255, 255, 255);\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.headline {\r\n  color: #fffb00;\r\n  font-size: 50px;\r\n}\r\n\r\n.back {\r\n  position: absolute;\r\n  z-index: -1;\r\n  bottom: 30px;\r\n}\r\n\r\n.landing__preview {\r\n  display: flex;\r\n  height: 85vh;\r\n  justify-content: center;\r\n  align-items: flex-start;\r\n}\r\n\r\n.landing__preview--description {\r\n  width: 40%;\r\n  font-size: 24px;\r\n  color: rgb(255, 255, 255);\r\n  margin-top: 50px;\r\n  font-weight: normal;\r\n}\r\n\r\n.landing__preview--description span {\r\n  color: #fffb00;\r\n  font-weight: bold;\r\n}\r\n\r\n.general__canvas-size {\r\n  width: 40%;\r\n  margin-right: 100px;\r\n  margin-top: 50px;\r\n}\r\n\r\n.container {\r\n  display: flex;\r\n}\r\n\r\n.container__instruments {\r\n  width: 10vw;\r\n  display: grid;\r\n  grid-template-rows: 80% 15% 5%;\r\n}\r\n\r\n.instrument__colors {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.coords {\r\n  color: rgb(255, 255, 255);\r\n  text-align: center;\r\n  justify-content: center;\r\n  font-size: 24px;\r\n}\r\n\r\n.instruments__colors--new-color, .instruments__colors--old-color {\r\n  width: 70px;\r\n  height: 70px;\r\n  margin-left: 5px;\r\n}\r\n\r\n.rim-buttons {\r\n  margin: 10px 5px 0 5px;\r\n  list-style-type: none;\r\n  box-shadow: 0 0 2px rgb(255, 255, 255);\r\n}\r\n\r\n.buttons {\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgb(27, 27, 27);\r\n  border: none;\r\n  font-size: 12px;\r\n  color: rgb(255, 255, 255);\r\n  font-weight: 700;\r\n  padding: 5px;\r\n  box-shadow: 0 0 2px rgb(255, 255, 255);\r\n  transition: 0.5s;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.icon {\r\n  margin-right: 5px;\r\n  width: 15px;\r\n  height: 15px;\r\n}\r\n\r\n.buttons:hover {\r\n  background-color: rgb(0, 0, 0);\r\n  box-shadow: 0 0 8px #fffb00;\r\n}\r\n\r\n.buttons:active {\r\n  transform: translateY(1px);\r\n}\r\n\r\n.is-active {\r\n  background-color: rgb(0, 0, 0);\r\n  box-shadow: 0 0 8px #fffb00;\r\n}\r\n\r\n.instruments__buttons {\r\n  display: grid;\r\n  grid-template-rows: 5.8% 5.8% 5.8% 5.8% 5.8% 5.8% 5.8% 5.8% 5.8% 5.8% 5.8% 5.8% 5.8% 5.8% 5.8% 5.8% 5.8%;\r\n}\r\n\r\n.container__pages {\r\n  width: 15vw;\r\n}\r\n\r\n.pages__page-operations {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n  overflow-y: auto;\r\n  height: 85vh;\r\n  width: 100%;\r\n  padding: 20px 0 20px 0;\r\n  position: relative;\r\n}\r\n\r\ncanvas {\r\n  box-shadow: 0 0 8px rgb(255, 255, 255);\r\n  transition: 0.5s;\r\n}\r\n\r\n.pages__page-operations--page {\r\n  margin-top: 10px;\r\n  border: 2px black;\r\n}\r\n\r\n.is-active-page {\r\n  box-shadow: 0 0 20px #fffb00;\r\n}\r\n\r\n.container__canvas {\r\n  width: 55vw;\r\n}\r\n\r\n.canvas__general {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.canvas__general--working-canvas {\r\n  margin-top: 20px;\r\n}\r\n\r\n.none {\r\n  display: none;\r\n}\r\n\r\n.general__canvas-size--text {\r\n  text-align: center;\r\n  color: #fffb00;\r\n}\r\n\r\n.container__animation {\r\n  width: 15vw;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n\r\n.container__animation--canvas {\r\n  margin: 20px 0 20px 0;\r\n}\r\n\r\n.container__animation--fps {\r\n  width: 100%;\r\n}",""])},function(t,s,e){"use strict";t.exports=function(t){var s=[];return s.toString=function(){return this.map(function(s){var e=function(t,s){var e=t[1]||"",a=t[3];if(!a)return e;if(s&&"function"==typeof btoa){var i=(o=a,r=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),h="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),"/*# ".concat(h," */")),n=a.sources.map(function(t){return"/*# sourceURL=".concat(a.sourceRoot).concat(t," */")});return[e].concat(n).concat([i]).join("\n")}var o,r,h;return[e].join("\n")}(s,t);return s[2]?"@media ".concat(s[2],"{").concat(e,"}"):e}).join("")},s.i=function(t,e){"string"==typeof t&&(t=[[null,t,""]]);for(var a={},i=0;i<this.length;i++){var n=this[i][0];null!=n&&(a[n]=!0)}for(var o=0;o<t.length;o++){var r=t[o];null!=r[0]&&a[r[0]]||(e&&!r[2]?r[2]=e:e&&(r[2]="(".concat(r[2],") and (").concat(e,")")),s.push(r))}},s}},function(t,s,e){var a,i,n={},o=(a=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=a.apply(this,arguments)),i}),r=function(t){var s={};return function(t,e){if("function"==typeof t)return t();if(void 0===s[t]){var a=function(t,s){return s?s.querySelector(t):document.querySelector(t)}.call(this,t,e);if(window.HTMLIFrameElement&&a instanceof window.HTMLIFrameElement)try{a=a.contentDocument.head}catch(t){a=null}s[t]=a}return s[t]}}(),h=null,c=0,l=[],d=e(4);function g(t,s){for(var e=0;e<t.length;e++){var a=t[e],i=n[a.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](a.parts[o]);for(;o<a.parts.length;o++)i.parts.push(w(a.parts[o],s))}else{var r=[];for(o=0;o<a.parts.length;o++)r.push(w(a.parts[o],s));n[a.id]={id:a.id,refs:1,parts:r}}}}function v(t,s){for(var e=[],a={},i=0;i<t.length;i++){var n=t[i],o=s.base?n[0]+s.base:n[0],r={css:n[1],media:n[2],sourceMap:n[3]};a[o]?a[o].parts.push(r):e.push(a[o]={id:o,parts:[r]})}return e}function u(t,s){var e=r(t.insertInto);if(!e)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var a=l[l.length-1];if("top"===t.insertAt)a?a.nextSibling?e.insertBefore(s,a.nextSibling):e.appendChild(s):e.insertBefore(s,e.firstChild),l.push(s);else if("bottom"===t.insertAt)e.appendChild(s);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=r(t.insertAt.before,e);e.insertBefore(s,i)}}function f(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var s=l.indexOf(t);s>=0&&l.splice(s,1)}function p(t){var s=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var a=function(){0;return e.nc}();a&&(t.attrs.nonce=a)}return m(s,t.attrs),u(t,s),s}function m(t,s){Object.keys(s).forEach(function(e){t.setAttribute(e,s[e])})}function w(t,s){var e,a,i,n;if(s.transform&&t.css){if(!(n="function"==typeof s.transform?s.transform(t.css):s.transform.default(t.css)))return function(){};t.css=n}if(s.singleton){var o=c++;e=h||(h=p(s)),a=S.bind(null,e,o,!1),i=S.bind(null,e,o,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(e=function(t){var s=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",m(s,t.attrs),u(t,s),s}(s),a=function(t,s,e){var a=e.css,i=e.sourceMap,n=void 0===s.convertToAbsoluteUrls&&i;(s.convertToAbsoluteUrls||n)&&(a=d(a));i&&(a+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var o=new Blob([a],{type:"text/css"}),r=t.href;t.href=URL.createObjectURL(o),r&&URL.revokeObjectURL(r)}.bind(null,e,s),i=function(){f(e),e.href&&URL.revokeObjectURL(e.href)}):(e=p(s),a=function(t,s){var e=s.css,a=s.media;a&&t.setAttribute("media",a);if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}.bind(null,e),i=function(){f(e)});return a(t),function(s){if(s){if(s.css===t.css&&s.media===t.media&&s.sourceMap===t.sourceMap)return;a(t=s)}else i()}}t.exports=function(t,s){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(s=s||{}).attrs="object"==typeof s.attrs?s.attrs:{},s.singleton||"boolean"==typeof s.singleton||(s.singleton=o()),s.insertInto||(s.insertInto="head"),s.insertAt||(s.insertAt="bottom");var e=v(t,s);return g(e,s),function(t){for(var a=[],i=0;i<e.length;i++){var o=e[i];(r=n[o.id]).refs--,a.push(r)}t&&g(v(t,s),s);for(i=0;i<a.length;i++){var r;if(0===(r=a[i]).refs){for(var h=0;h<r.parts.length;h++)r.parts[h]();delete n[r.id]}}}};var C,z=(C=[],function(t,s){return C[t]=s,C.filter(Boolean).join("\n")});function S(t,s,e,a){var i=e?"":a.css;if(t.styleSheet)t.styleSheet.cssText=z(s,i);else{var n=document.createTextNode(i),o=t.childNodes;o[s]&&t.removeChild(o[s]),o.length?t.insertBefore(n,o[s]):t.appendChild(n)}}},function(t,s){t.exports=function(t){var s="undefined"!=typeof window&&window.location;if(!s)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var e=s.protocol+"//"+s.host,a=e+s.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,s){var i,n=s.trim().replace(/^"(.*)"$/,function(t,s){return s}).replace(/^'(.*)'$/,function(t,s){return s});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(n)?t:(i=0===n.indexOf("//")?n:0===n.indexOf("/")?e+n:a+n.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")})}},function(t,s,e){"use strict";e.r(s);class a{constructor(t,s){this.newColor=t,this.oldColor=s,this.colors={}}getModel(){return this.colors.newColor=this.newColor,this.colors.oldColor=this.oldColor,this.colors}}class i{constructor(t,s,e){this.newColorBlock=t,this.oldColorBlock=s,this.colors=e}render(){this.newColorBlock.style.backgroundColor=this.colors.newColor,this.oldColorBlock.style.backgroundColor=this.colors.oldColor}}class n{constructor(t,s){this.newColor=t||"#ffffff",this.oldColor=s||"#000000",this.newColorBlock=document.querySelector(".instruments__colors--new-color"),this.oldColorBlock=document.querySelector(".instruments__colors--old-color"),this.inputColor=document.querySelector(".instrument__colors--input")}start(){this.model=new a(this.newColor,this.oldColor),this.data=this.model.getModel(),this.view=new i(this.newColorBlock,this.oldColorBlock,this.data),this.view.render()}}class o{constructor(t){this.size=t,this.windowSize=768,this.data={defaultColor:"#000000",stack:[],pages:[]}}getModel(){return this.getColor(),this.getSize(),this.data}getColor(){const t=[...Array(this.size)].map(()=>Array(this.size));for(let s=0;s<this.size;s+=1)for(let e=0;e<this.size;e+=1)t[s][e]=this.data.defaultColor;this.data.stack.push(t.map(t=>t.slice()))}getSize(){this.data.activePage=0,this.data.onePiksel=this.windowSize/this.size,this.data.size=this.size}}class r{constructor(t){this.page=t}isActivePageView(){this.page.classList.add("is-active-page")}}class h{constructor(t){this.data=t,this.container=document.querySelector(".container"),this.landing=document.querySelector(".landing"),this.buttons=document.querySelector(".general__canvas-size"),this.canvas=document.querySelector(".canvas__general--working-canvas"),this.page=document.querySelector(".pages__page-operations--page"),this.animation=document.querySelector(".container__animation--canvas"),this.pages=document.querySelector(".pages__page-operations"),this.delBut=document.querySelector(".pages__page-operations--del-page")}render(){this.delButtons(),this.renderGeneralCanvas(),this.renderPageCanvas()}view(t,s,e){for(let a=0;a<s;a+=1)for(let i=0;i<s;i+=1)t.fillStyle=this.data.stack[this.data.activePage][a][i],t.fillRect(e*i,e*a,e*(i+1),e*(a+1))}loadView(t,s,e,a){for(let i=0;i<s;i+=1)for(let n=0;n<s;n+=1)t.fillStyle=this.data.stack[a][i][n],t.fillRect(e*n,e*i,e*(n+1),e*(i+1))}delButtons(){this.landing.classList.add("none"),this.container.classList.remove("none"),this.canvas.classList.remove("none"),this.buttons.classList.add("none"),this.page.classList.remove("none"),this.animation.classList.remove("none")}renderGeneralCanvas(){const t=this.canvas;t.id=`canvas${this.data.activePage}`;const s=t.getContext("2d"),e=this.data.size,a=this.data.onePiksel;this.view(s,e,a)}renderPageCanvas(){if("add"===this.data.buttonStyle){this.data.pages[this.data.activePage-1].classList.remove("is-active-page");const t=document.createElement("canvas");t.classList.add("pages__page-operations--page"),t.id=`page${this.data.activePage}`,t.width=128,t.height=128,this.pages.insertBefore(t,this.delBut);const s=t.getContext("2d"),e=this.data.size,a=this.data.onePiksel/6;this.view(s,e,a),new r(t).isActivePageView(),this.data.pages.push(t)}else if("clone"===this.data.buttonStyle){const t=document.getElementById(`page${this.data.activePage}`);this.data.pages[this.data.activePage-1].classList.remove("is-active-page");const s=document.createElement("canvas");s.classList.add("pages__page-operations--page"),s.width=128,s.height=128,this.pages.insertBefore(s,t||this.delBut);const e=s.getContext("2d"),a=this.data.size,i=this.data.onePiksel/6;this.view(e,a,i),new r(s).isActivePageView(),this.data.pages.splice(this.data.activePage,0,s),this.refactorId()}else if("del"===this.data.buttonStyle){const t=this.data.pages[this.data.activePage].getContext("2d"),s=this.data.size,e=this.data.onePiksel/6;this.view(t,s,e)}else if("load"===this.data.buttonStyle){const t=document.querySelector(".pages__page-operations--page");this.pages.removeChild(t);for(let t=0;t<this.data.stack.length;t+=1){const s=document.createElement("canvas");s.classList.add("pages__page-operations--page"),s.id=`page${t}`,s.width=128,s.height=128,this.pages.insertBefore(s,this.delBut);const e=s.getContext("2d"),a=this.data.size,i=this.data.onePiksel/6;this.loadView(e,a,i,t),this.data.pages.shift(),this.data.pages.push(s)}const s=document.querySelector(`#page${this.data.activePage}`);new r(s).isActivePageView()}else if("move"===this.data.buttonStyle){this.pages.removeChild(this.data.movePage);const t=document.createElement("canvas");t.classList.add("pages__page-operations--page"),t.width=128,t.height=128,t.id=`page${this.data.activePage}`,this.pages.insertBefore(t,this.data.page2||this.delBut),this.data.pages[this.data.activePage]=t;const s=t.getContext("2d"),e=this.data.size,a=this.data.onePiksel/6;this.view(s,e,a),new r(t).isActivePageView(),this.refactorId()}else{const t=this.page;t.id=`page${this.data.activePage}`;const s=t.getContext("2d"),e=this.data.size,a=this.data.onePiksel/6;this.view(s,e,a),new r(t).isActivePageView(),this.data.pages.push(t)}}renderNewPage(t){this.data=t,document.getElementById(`page${this.data.oldActivePage}`).classList.remove("is-active-page"),this.render()}renderDelPage(t){this.data=t,this.renderGeneralCanvas()}renderClonePage(t){this.data=t,document.getElementById(`page${this.data.oldActivePage}`).classList.remove("is-active-page"),this.render()}renderMovePage(t){this.data=t,this.render()}refactorId(){let t=0;const s=this.data.pages.length;for(let e=0;e<s;e+=1){this.data.pages[e].id=`page${t}`,t+=1}}}class c{constructor(t,s){this.data=t,this.animation=document.querySelector(".container__animation--canvas"),this.frame=s}viewAnimation(){const t=this.animation.getContext("2d"),s=this.data.size,e=this.data.onePiksel/3;this.view(t,s,e)}view(t,s,e){for(let a=0;a<s;a+=1)for(let i=0;i<s;i+=1)t.fillStyle=this.data.stack[this.frame][a][i],t.fillRect(e*i,e*a,e*(i+1),e*(a+1))}}class l{constructor(t){this.data=t,this.range=document.querySelector(".container__animation--fps"),this.frame=0}start(){this.newFps=this.range.value;const t=this.range;t.addEventListener("change",()=>{this.newFps=+t.value,clearInterval(this.set),0!==this.newFps&&this.interval(this.newFps)}),this.interval(this.newFps)}interval(){this.set=setInterval(()=>{this.frame>this.data.stack.length-1&&(this.frame=0),new c(this.data,this.frame).viewAnimation(),this.frame+=1},1e3/this.newFps)}}class d{constructor(t,s){this.size=t,this.default=s,this.body=document.querySelector("body"),this.canvas=document.querySelector(".canvas__general--working-canvas"),this.coords=document.querySelector(".coords")}display(){this.body.addEventListener("mousemove",t=>{if(t.target===this.canvas){const s=Math.floor(t.offsetX/this.size.onePiksel)+1;this.coordsX>=this.size.size&&(this.coords=this.size.size-1);const e=Math.floor(t.offsetY/this.size.onePiksel)+1;this.coordsY>this.size.size&&(this.coordsY=this.size.size-1),this.coords.innerHTML=`${s}x${e}`}else this.coords.innerHTML=""})}}class g{constructor(t){this.data=t}isActive(){this.data.tool.button.classList.add("is-active")}}class v{constructor(t){this.data=t}isNoActive(){this.data.tool.button.classList.remove("is-active")}}class u{constructor(t,s){this.canvas=document.querySelector(".canvas__general--working-canvas"),this.animation=document.querySelector(".container__animation--canvas"),this.arr=t,this.size=s}viewStart(){this.renderGeneralCanvas(),this.renderPageCanvas(),this.renderAnimationCanvas()}view(t,s,e){for(let a=0;a<s;a+=1)for(let i=0;i<s;i+=1)t.fillStyle=this.arr[a][i],t.fillRect(e*i,e*a,e*(i+1),e*(a+1))}renderGeneralCanvas(){const t=this.canvas.getContext("2d"),s=this.size.size,e=this.size.onePiksel;this.view(t,s,e)}renderPageCanvas(){const t=this.size.pages[this.size.activePage].getContext("2d"),s=this.size.size,e=this.size.onePiksel/6;this.view(t,s,e)}renderAnimationCanvas(){const t=this.animation.getContext("2d"),s=this.size.size,e=this.size.onePiksel/3;this.view(t,s,e)}viewPageStart(t){this.arr=t.stack[t.activePage],this.size=t,t.pages[t.oldActivePage].classList.remove("is-active-page"),new r(t.pages[t.activePage]).isActivePageView(),this.renderGeneralCanvas(),this.renderAnimationCanvas()}}class f{constructor(t,s,e,a,i){this.canvas=document.querySelector(".canvas__general--working-canvas"),this.size=t,this.color=s,this.targetX=e,this.targetY=a,this.arr=i}modelPenStart(){this.target(),this.canvasArr()}target(){this.canvasX=Math.floor(this.targetX/this.size.onePiksel),this.canvasX>=this.size.size&&(this.canvasX=this.size.size-1),this.canvasY=Math.floor(this.targetY/this.size.onePiksel),this.canvasY>=this.size.size&&(this.canvasY=this.size.size-1),this.oldCanvasX=Math.floor(this.arr[0]/this.size.onePiksel),this.oldCanvasX>=this.size.size&&(this.oldCanvasX=this.size.size-1),this.oldCanvasY=Math.floor(this.arr[1]/this.size.onePiksel),this.oldCanvasY>=this.size.size&&(this.oldCanvasY=this.size.size-1)}canvasArr(){this.arrColor=this.size.stack[this.size.activePage],this.newColor=this.color.newColor,this.arrColor[this.canvasY][this.canvasX]=this.newColor;const t=Math.abs(this.oldCanvasX-this.canvasX),s=Math.abs(this.oldCanvasY-this.canvasY);(t>1||s>1)&&this.line(this.oldCanvasX,this.oldCanvasY,this.canvasX,this.canvasY),new u(this.arrColor,this.size).viewStart()}line(t,s,e,a){let i=t,n=s;const o=Math.abs(e-i),r=Math.abs(a-n),h=i<e?1:-1,c=n<a?1:-1;let l=o-r;for(;this.arrColor[n][i]=this.newColor,i!==e||n!==a;){const t=2*l;t>-r&&(l-=r,i+=h),t<o&&(l+=o,n+=c)}}}var p=function(t,s){let e,a,i=[];const n=document.querySelector(".canvas__general--working-canvas");n.onmousedown=()=>{n.onmousemove=n=>{e=n.offsetX,a=n.offsetY,i.push(e,a),i.length>4&&(i.shift(),i.shift()),new f(t,s,e,a,i).modelPenStart()},document.onmouseup=()=>{i=[],n.onmousemove=null,document.onmouseup=null}}};class m{constructor(t,s,e,a){this.size=t,this.color=s,this.targetX=e,this.targetY=a,this.canvas=document.querySelector(".canvas__general--working-canvas")}start(){this.canvasX=Math.floor(this.targetX/this.size.onePiksel),this.canvasY=Math.floor(this.targetY/this.size.onePiksel),this.color.oldColor=this.color.newColor,this.color.newColor=this.size.stack[this.size.activePage][this.canvasY][this.canvasX],new n(this.color.newColor,this.color.oldcolor).start()}static ololo(t,s){return t+s}}var w=function(t,s){document.querySelector(".canvas__general--working-canvas").onmousedown=e=>{const a=e.offsetX,i=e.offsetY;new m(t,s,a,i).start()}};class C{constructor(t,s,e,a){this.size=t,this.color=s,this.targetX=e,this.targetY=a,this.canvas=document.querySelector(".canvas__general--working-canvas")}start(){const t=Math.floor(this.targetX/this.size.onePiksel),s=Math.floor(this.targetY/this.size.onePiksel);this.arr=this.size.stack[this.size.activePage];const e=this.size.size,a=this.arr[s][t],i=[[s,t]];if(a!==this.color.newColor)for(;i.length;){const t=i.pop(),s=t[0],n=t[1];if(s>=0&&s<e&&n>=0&&n<e){a===this.arr[s][n]&&(this.arr[s][n]=this.color.newColor,i.push([s-1,n],[s+1,n],[s,n-1],[s,n+1]))}}new u(this.arr,this.size).viewStart()}}var z=function(t,s){document.querySelector(".canvas__general--working-canvas").onmousedown=e=>{const a=e.offsetX,i=e.offsetY;new C(t,s,a,i).start()}};class S{constructor(t,s,e,a,i){this.canvas=document.querySelector(".canvas__general--working-canvas"),this.size=t,this.color=s,this.targetX=e,this.targetY=a,this.arr=i}modelEreserStart(){this.target(),this.canvasArr()}target(){this.CanvasX=Math.floor(this.targetX/this.size.onePiksel),this.CanvasX>=this.size.size&&(this.CanvasX=this.size.size-1),this.CanvasY=Math.floor(this.targetY/this.size.onePiksel),this.CanvasY>=this.size.size&&(this.CanvasY=this.size.size-1),this.oldCanvasX=Math.floor(this.arr[0]/this.size.onePiksel),this.oldCanvasX>=this.size.size&&(this.oldCanvasX=this.size.size-1),this.oldCanvasY=Math.floor(this.arr[1]/this.size.onePiksel),this.oldCanvasY>=this.size.size&&(this.oldCanvasY=this.size.size-1)}canvasArr(){this.arrColor=this.size.stack[this.size.activePage],this.newColor=this.size.defaultColor,this.arrColor[this.CanvasY][this.CanvasX]=this.newColor,this.oldCanvasX-this.CanvasX==0&&this.oldCanvasY-this.CanvasY==0||this.line(this.oldCanvasX,this.oldCanvasY,this.CanvasX,this.CanvasY),new u(this.arrColor,this.size).viewStart()}line(t,s,e,a){let i=t,n=s;const o=Math.abs(e-i),r=Math.abs(a-n),h=i<e?1:-1,c=n<a?1:-1;let l=o-r;for(;this.arrColor[n][i]=this.newColor,i!==e||n!==a;){const t=2*l;t>-r&&(l-=r,i+=h),t<o&&(l+=o,n+=c)}}}var y=function(t,s){let e,a,i=[];const n=document.querySelector(".canvas__general--working-canvas");n.onmousedown=()=>{n.onmousemove=o=>{e=o.offsetX,a=o.offsetY,i.push(e,a),i.length>4&&(i.shift(),i.shift()),new S(t,s,e,a,i).modelEreserStart(),document.onmouseup=()=>{n.onmousemove=null,i=[]}}}};class k{constructor(t,s,e,a){this.size=t,this.color=s,this.targets=e,this.copyArr=a}modelStrokeStart(){this.target(),this.canvasArr(),this.toCombineArr()}target(){this.oldCanvasX=Math.floor(this.targets.targetStartX/this.size.onePiksel),this.oldCanvasX>=this.size.size&&(this.oldCanvasX=this.size.size-1),this.oldCanvasY=Math.floor(this.targets.targetStartY/this.size.onePiksel),this.oldCanvasY>=this.size.size&&(this.oldCanvasY=this.size.size-1),this.newCanvasX=Math.floor(this.targets.targetEndX/this.size.onePiksel),this.newCanvasX>=this.size.size&&(this.newCanvasX=this.size.size-1),this.newCanvasY=Math.floor(this.targets.targetEndY/this.size.onePiksel),this.newCanvasY>=this.size.size&&(this.newCanvasY=this.size.size-1)}canvasArr(){this.newColor=this.color.newColor,this.copyArr[this.newCanvasY][this.newCanvasX]=this.newColor;const t=Math.abs(this.newCanvasX-this.oldCanvasX),s=Math.abs(this.newCanvasY-this.oldCanvasY),e=this.oldCanvasX<this.newCanvasX?1:-1,a=this.oldCanvasY<this.newCanvasY?1:-1;let i=t-s;for(;this.copyArr[this.oldCanvasY][this.oldCanvasX]=this.newColor,this.oldCanvasX!==this.newCanvasX||this.oldCanvasY!==this.newCanvasY;){const n=2*i;n>-s&&(i-=s,this.oldCanvasX+=e),n<t&&(i+=t,this.oldCanvasY+=a)}}toCombineArr(){new u(this.copyArr,this.size).viewStart()}}var _=function(t,s){const e={targetStartX:0,targetStartY:0,targetEndX:0,targetEndY:0},a=document.querySelector(".canvas__general--working-canvas");a.onmousedown=i=>{const n=t.stack[t.activePage],o=JSON.parse(JSON.stringify(n));e.targetStartX=i.offsetX,e.targetStartY=i.offsetY;let r=new k(t,s,e,o);a.onmousemove=a=>{const i=JSON.parse(JSON.stringify(n));e.targetEndX=a.offsetX,e.targetEndY=a.offsetY,(r=new k(t,s,e,i)).modelStrokeStart()},document.onmouseup=()=>{t.stack[t.activePage]=r.copyArr,a.onmousemove=null}}};class b{constructor(t,s,e,a){this.size=t,this.color=s,this.targets=e,this.copyArr=a}modelCircleStart(){this.target(),this.defineRadius(),this.drawCircle()}target(){this.oldCanvasX=Math.floor(this.targets.targetStartX/this.size.onePiksel),this.oldCanvasX>=this.size.size&&(this.oldCanvasX=this.size.size-1),this.oldCanvasY=Math.floor(this.targets.targetStartY/this.size.onePiksel),this.oldCanvasY>=this.size.size&&(this.oldCanvasY=this.size.size-1),this.newCanvasX=Math.floor(this.targets.targetEndX/this.size.onePiksel),this.newCanvasX>=this.size.size&&(this.newCanvasX=this.size.size-1),this.newCanvasY=Math.floor(this.targets.targetEndY/this.size.onePiksel),this.newCanvasY>=this.size.size&&(this.newCanvasY=this.size.size-1)}defineRadius(){const t=Math.abs(this.oldCanvasX-this.newCanvasX)**2,s=Math.abs(this.oldCanvasY-this.newCanvasY)**2,e=Math.sqrt(t+s);this.hypotenuse=Math.floor(e)}drawCircle(){this.newColor=this.color;let t=0,s=this.hypotenuse,e=0,a=2-2*this.hypotenuse;for(;s>=0;)this.copyArr[this.oldCanvasY+s][this.oldCanvasX-t]=this.newColor,this.copyArr[this.oldCanvasY-s][this.oldCanvasX-t]=this.newColor,this.copyArr[this.oldCanvasY-s][this.oldCanvasX+t]=this.newColor,this.copyArr[this.oldCanvasY+s][this.oldCanvasX+t]=this.newColor,e=2*(a+s)-1,a<0&&e<=0?a+=2*(t+=1)+1:a>0&&e>0?a-=2*(s-=1)+1:(a+=2*((t+=1)-s),s-=1);new u(this.copyArr,this.size).viewStart()}}var P=function(t,s){const e=s.newColor,a={targetStartX:0,targetStartY:0,targetEndX:0,targetEndY:0},i=document.querySelector(".canvas__general--working-canvas");i.onmousedown=s=>{const n=t.stack[t.activePage],o=JSON.parse(JSON.stringify(n));a.targetStartX=s.offsetX,a.targetStartY=s.offsetY;let r=new b(t,e,a,o);i.onmousemove=s=>{const i=JSON.parse(JSON.stringify(n));a.targetEndX=s.offsetX,a.targetEndY=s.offsetY,(r=new b(t,e,a,i)).modelCircleStart()},document.onmouseup=()=>{t.stack[t.activePage]=r.copyArr,i.onmousemove=null,document.onmouseup=null}}};class Y{constructor(t,s,e){this.data=t,this.targets=s,this.clone=e}modelMoveStart(){this.target(),this.behavior()}target(){this.oldCanvasX=Math.floor(this.targets.targetStartX/this.data.onePiksel),this.oldCanvasX>=this.data.size&&(this.oldCanvasX=this.data.size-1),this.oldCanvasY=Math.floor(this.targets.targetStartY/this.data.onePiksel),this.oldCanvasY>=this.data.size&&(this.oldCanvasY=this.data.size-1),this.newCanvasX=Math.floor(this.targets.targetEndX/this.data.onePiksel),this.newCanvasX>=this.data.size&&(this.newCanvasX=this.data.size-1),this.newCanvasY=Math.floor(this.targets.targetEndY/this.data.onePiksel),this.newCanvasY>=this.data.size&&(this.newCanvasY=this.data.size-1)}behavior(){const t=this.data.stack[this.data.activePage],s=this.newCanvasX-this.oldCanvasX,e=this.newCanvasY-this.oldCanvasY;this.data.clone=this.clone;for(let a=this.data.size-1;a>=0;a-=1)for(let i=this.data.size-1;i>=0;i-=1)t[i][a]!==this.data.defaultColor&&(this.clone[i+e][a+s]=t[i][a]);new u(this.clone,this.data).viewStart()}}var X=function(t){const s={targetStartX:0,targetStartY:0,targetEndX:0,targetEndY:0},e=document.querySelector(".canvas__general--working-canvas");e.onmousedown=a=>{s.targetStartX=a.offsetX,s.targetStartY=a.offsetY,e.onmousemove=e=>{s.targetEndX=e.offsetX,s.targetEndY=e.offsetY;const a=[...Array(t.size)].map(()=>Array(t.size));for(let s=0;s<t.size;s+=1)for(let e=0;e<t.size;e+=1)a[s][e]=t.defaultColor;const i=Math.abs(s.targetEndX-s.targetStartX),n=Math.abs(s.targetEndY-s.targetStartY);(i>t.onePiksel||n>t.onePiksel)&&new Y(t,s,a).modelMoveStart()},e.onmouseup=()=>{e.onmousemove=null,t.stack[t.activePage]=t.clone,e.onmouseup=null}}};class x{constructor(t,s,e,a){this.canvas=document.querySelector(".canvas__general--working-canvas"),this.data=t,this.color=s,this.targetX=e,this.targetY=a}modelLightenStart(){this.target(),this.canvasArr()}target(){this.canvasX=Math.floor(this.targetX/this.data.onePiksel),this.canvasX>=this.data.size&&(this.canvasX=this.data.size-1),this.canvasY=Math.floor(this.targetY/this.data.onePiksel),this.canvasY>=this.data.size&&(this.canvasY=this.data.size-1)}canvasArr(){if(this.stack=this.data.stack[this.data.activePage],this.data.oldColor=this.stack[this.canvasY][this.canvasX],"#ffffff"!==this.data.oldColor){this.r=this.data.oldColor.substr(1,2),this.g=this.data.oldColor.substr(3,2),this.b=this.data.oldColor.substr(5,2);const t=parseInt(this.r,16),s=parseInt(this.g,16),e=parseInt(this.b,16);let a=t+25;a>255&&(a=255);let i=s+25;i>255&&(i=255);let n=e+25;n>255&&(n=255);const o=`#${a.toString(16)}${i.toString(16)}${n.toString(16)}`;this.stack[this.canvasY][this.canvasX]=o}new u(this.stack,this.data).viewStart()}}var A=function(t,s){let e,a;const i=document.querySelector(".canvas__general--working-canvas");i.onmousedown=()=>{i.onmousemove=n=>{e=n.offsetX,a=n.offsetY,new x(t,s,e,a).modelLightenStart(),document.onmouseup=()=>{i.onmousemove=null}}}};class M{constructor(t,s,e,a,i){this.canvas=document.querySelector(".canvas__general--working-canvas"),this.size=t,this.color=s,this.targetX=e,this.targetY=a,this.arr=i}modelDitheringStart(){this.target(),this.canvasArr()}target(){this.canvasX=Math.floor(this.targetX/this.size.onePiksel),this.canvasX>=this.size.size&&(this.canvasX=this.size.size-1),this.canvasY=Math.floor(this.targetY/this.size.onePiksel),this.canvasY>=this.size.size&&(this.canvasY=this.size.size-1),this.oldCanvasX=Math.floor(this.arr[0]/this.size.onePiksel),this.oldCanvasX>=this.size.size&&(this.oldCanvasX=this.size.size-1),this.oldCanvasY=Math.floor(this.arr[1]/this.size.onePiksel),this.oldCanvasY>=this.size.size&&(this.oldCanvasY=this.size.size-1)}canvasArr(){this.arrColor=this.size.stack[this.size.activePage],this.newColor=this.color.newColor,this.oldColor=this.color.oldColor,this.sum=this.canvasX+this.canvasY,this.sum%2==0?this.arrColor[this.canvasY][this.canvasX]=this.newColor:this.arrColor[this.canvasY][this.canvasX]=this.oldColor;const t=Math.abs(this.oldCanvasX-this.canvasX),s=Math.abs(this.oldCanvasY-this.canvasY);(t>1||s>1)&&this.line(this.oldCanvasX,this.oldCanvasY,this.canvasX,this.canvasY),new u(this.arrColor,this.size).viewStart()}line(t,s,e,a){let i=t,n=s;const o=Math.abs(e-i),r=Math.abs(a-n),h=i<e?1:-1,c=n<a?1:-1;let l=o-r;for(;this.sum%2==0?this.arrColor[this.canvasY][this.canvasX]=this.newColor:this.arrColor[this.canvasY][this.canvasX]=this.oldColor,i!==e||n!==a;){const t=2*l;t>-r&&(l-=r,i+=h),t<o&&(l+=o,n+=c)}}}var L=function(t,s){let e,a,i=[];const n=document.querySelector(".canvas__general--working-canvas");n.onmousedown=()=>{n.onmousemove=o=>{e=o.offsetX,a=o.offsetY,i.push(e,a),i.length>4&&(i.shift(),i.shift()),new M(t,s,e,a,i).modelDitheringStart(),document.onmouseup=()=>{n.onmousemove=null,i=[]}}}};class q{constructor(t,s,e,a){this.size=t,this.color=s,this.targets=e,this.copyArr=a}modelRictangleStart(){this.target(),this.canvasArr()}target(){this.oldCanvasX=Math.floor(this.targets.targetStartX/this.size.onePiksel),this.oldCanvasX>=this.size.size&&(this.oldCanvasX=this.size.size-1),this.oldCanvasY=Math.floor(this.targets.targetStartY/this.size.onePiksel),this.oldCanvasY>=this.size.size&&(this.oldCanvasY=this.size.size-1),this.newCanvasX=Math.floor(this.targets.targetEndX/this.size.onePiksel),this.newCanvasX>=this.size.size&&(this.newCanvasX=this.size.size-1),this.newCanvasY=Math.floor(this.targets.targetEndY/this.size.onePiksel),this.newCanvasY>=this.size.size&&(this.newCanvasY=this.size.size-1)}canvasArr(){if(this.newColor=this.color.newColor,this.oldCanvasX<this.newCanvasX)for(let t=this.oldCanvasX;t<this.newCanvasX;t+=1)this.copyArr[this.oldCanvasY][t]=this.newColor,this.copyArr[this.newCanvasY][t]=this.newColor;else for(let t=this.oldCanvasX;t>this.newCanvasX;t-=1)this.copyArr[this.oldCanvasY][t]=this.newColor,this.copyArr[this.newCanvasY][t]=this.newColor;if(this.oldCanvasY<this.newCanvasY)for(let t=this.oldCanvasY;t<this.newCanvasY;t+=1)this.copyArr[t][this.oldCanvasX]=this.newColor,this.copyArr[t][this.newCanvasX]=this.newColor;else for(let t=this.oldCanvasY;t>this.newCanvasY;t-=1)this.copyArr[t][this.oldCanvasX]=this.newColor,this.copyArr[t][this.newCanvasX]=this.newColor;this.copyArr[this.newCanvasY][this.newCanvasX]=this.newColor,new u(this.copyArr,this.size).viewStart()}}var E=function(t,s){const e={targetStartX:0,targetStartY:0,targetEndX:0,targetEndY:0},a=document.querySelector(".canvas__general--working-canvas");a.onmousedown=i=>{const n=t.stack[t.activePage],o=JSON.parse(JSON.stringify(n));e.targetStartX=i.offsetX,e.targetStartY=i.offsetY;let r=new q(t,s,e,o);a.onmousemove=a=>{const i=JSON.parse(JSON.stringify(n));e.targetEndX=a.offsetX,e.targetEndY=a.offsetY,(r=new q(t,s,e,i)).modelRictangleStart()},a.onmouseup=()=>{t.stack[t.activePage]=r.copyArr,a.onmousemove=null,document.onmouseup=null}}};class I{constructor(t,s,e,a){this.size=t,this.color=s,this.targetX=e,this.targetY=a,this.canvas=document.querySelector(".canvas__general--working-canvas")}start(){this.arrColor=this.size.stack[this.size.activePage],this.canvasX=Math.floor(this.targetX/this.size.onePiksel),this.canvasX>=this.size.size&&(this.CanvasX=this.size.size-1),this.canvasY=Math.floor(this.targetY/this.size.onePiksel),this.canvasY>=this.size.size&&(this.CanvasY=this.size.size-1);const t=this.arrColor[this.canvasY][this.canvasX];for(let s=0;s<this.size.size;s+=1)for(let e=0;e<this.size.size;e+=1)this.arrColor[s][e]===t&&(this.arrColor[s][e]=this.color);new u(this.arrColor,this.size).viewStart()}}var B=function(t,s){const e=document.querySelector(".canvas__general--working-canvas");let a=s.newColor,i=!1;e.oncontextmenu=()=>{i=!0},e.onmousedown=e=>{i&&(a=s.oldColor);const n=e.offsetX,o=e.offsetY;new I(t,a,n,o).start()}};class N{constructor(t){this.size=t,this.canvas=document.querySelector(".canvas__general--working-canvas")}start(){this.arr=this.size.stack[this.size.activePage];const t=this.size.size,s=this.size.defaultColor;for(let e=0;e<t;e+=1)for(let a=0;a<t;a+=1)this.arr[a][e]=s;new u(this.arr,this.size).viewStart()}}var O=function(t){document.querySelector(".canvas__general--working-canvas").onmousedown=()=>{new N(t).start()}};class j{constructor(t,s){this.data=t,this.color=s,this.canvas=document.querySelector(".canvas__general--working-canvas")}start(){const t=this.data.stack[this.data.activePage],s=this.data.size;this.oldBackgroundColor=this.data.defaultColor;const e=this.color;this.data.defaultColor=this.color;for(let a=0;a<s;a+=1)for(let i=0;i<s;i+=1)t[i][a]===this.oldBackgroundColor&&(t[i][a]=e);new u(t,this.data).viewStart()}}var $=function(t,s){const e=document.querySelector(".canvas__general--working-canvas");let a=s.newColor,i=!1;e.oncontextmenu=()=>{i=!0},e.onmousedown=()=>{i&&(a=s.oldColor),new j(t,a).start()}};class R{constructor(t,s,e,a){this.canvas=document.querySelector(".canvas__general--working-canvas"),this.data=t,this.color=s,this.targetX=e,this.targetY=a}modelLightenStart(){this.target(),this.canvasArr()}target(){this.canvasX=Math.floor(this.targetX/this.data.onePiksel),this.canvasX>=this.data.size&&(this.canvasX=this.data.size-1),this.canvasY=Math.floor(this.targetY/this.data.onePiksel),this.canvasY>=this.data.size&&(this.canvasY=this.data.size-1)}canvasArr(){function t(t,s){let e=t-.5+Math.random()*(s-t+1);return e=Math.round(e)}if(this.stack=this.data.stack[this.data.activePage],this.data.oldColor=this.stack[this.canvasY][this.canvasX],"#ffffff"!==this.data.oldColor){this.randomR=t(1,255),this.randomG=t(1,255),this.randomB=t(1,255);const s=`#${this.randomR.toString(16)}${this.randomG.toString(16)}${this.randomB.toString(16)}`;this.stack[this.canvasY][this.canvasX]=s}new u(this.stack,this.data).viewStart()}}var U=function(t,s){let e,a;const i=document.querySelector(".canvas__general--working-canvas");i.onmousedown=()=>{i.onmousemove=n=>{e=n.offsetX,a=n.offsetY,new R(t,s,e,a).modelLightenStart(),document.onmouseup=()=>{i.onmousemove=null}}}};class J{constructor(t){this.data=t,this.canvas=document.querySelector(".canvas__general--working-canvas")}start(){this.arr=this.data.stack[this.data.activePage];const t=this.data.size;for(let s=0;s<t;s+=1)for(let e=0;e<t;e+=1){this.data.oldColor=this.arr[e][s],this.r=this.data.oldColor.substr(1,2),this.g=this.data.oldColor.substr(3,2),this.b=this.data.oldColor.substr(5,2);const t=parseInt(this.r,16),a=parseInt(this.g,16),i=parseInt(this.b,16);let n=255-t;0===n&&(n="00");let o=255-a;0===o&&(o="00");let r=255-i;0===r&&(r="00");const h=`#${n.toString(16)}${o.toString(16)}${r.toString(16)}`;this.arr[e][s]=h}this.data.stack[this.data.activePage]=this.arr,new u(this.arr,this.data).viewStart()}}var T=function(t){document.querySelector(".canvas__general--working-canvas").onmousedown=()=>{new J(t).start()}};class D{constructor(t,s,e,a,i){this.canvas=document.querySelector(".canvas__general--working-canvas"),this.size=t,this.color=s,this.targetX=e,this.targetY=a,this.arr=i}modelMirroringStart(){this.target(),this.canvasArr()}target(){this.canvasX=Math.floor(this.targetX/this.size.onePiksel),this.canvasX>=this.size.size&&(this.canvasX=this.size.size-1),this.canvasY=Math.floor(this.targetY/this.size.onePiksel),this.canvasY>=this.size.size&&(this.canvasY=this.size.size-1),this.oldCanvasX=Math.floor(this.arr[0]/this.size.onePiksel),this.oldCanvasX>=this.size.size&&(this.oldCanvasX=this.size.size-1),this.oldCanvasY=Math.floor(this.arr[1]/this.size.onePiksel),this.oldCanvasY>=this.size.size&&(this.oldCanvasY=this.size.size-1)}canvasArr(){this.arrColor=this.size.stack[this.size.activePage],this.newColor=this.color;const t=this.size.size-1;this.arrColor[this.canvasY][this.canvasX]=this.newColor,this.arrColor[t-this.canvasY][t-this.canvasX]=this.newColor;const s=Math.abs(this.oldCanvasX-this.canvasX),e=Math.abs(this.oldCanvasY-this.canvasY);(s>1||e>1)&&this.line(this.oldCanvasX,this.oldCanvasY,this.canvasX,this.canvasY,t),new u(this.arrColor,this.size).viewStart()}line(t,s,e,a,i){let n=t,o=s;const r=Math.abs(e-n),h=Math.abs(a-o),c=n<e?1:-1,l=o<a?1:-1;let d=r-h;for(;this.arrColor[o][n]=this.newColor,this.arrColor[i-o][i-n]=this.newColor,n!==e||o!==a;){const t=2*d;t>-h&&(d-=h,n+=c),t<r&&(d+=r,o+=l)}}}var F=function(t,s){let e,a,i=[];const n=document.querySelector(".canvas__general--working-canvas");let o=s.newColor,r=!1;n.oncontextmenu=()=>{r=!0},n.onmousedown=()=>{r&&(o=s.oldColor),n.onmousemove=s=>{e=s.offsetX,a=s.offsetY,i.push(e,a),i.length>4&&(i.shift(),i.shift()),new D(t,o,e,a,i).modelMirroringStart(),document.onmouseup=()=>{n.onmousemove=null,i=[]}}}};class G{constructor(t,s,e,a){this.targetInstrument=t,this.size=s,this.color=e,this.buttonName=a}start(){"instruments__buttons--pen"===this.targetInstrument.classList[0]?p(this.size,this.color):"instruments__buttons--color-select"===this.targetInstrument.classList[0]?w(this.size,this.color):"instruments__buttons--paint-bucket"===this.targetInstrument.classList[0]?z(this.size,this.color):"instruments__buttons--ereser"===this.targetInstrument.classList[0]?y(this.size,this.color):"instruments__buttons--stroke"===this.targetInstrument.classList[0]?_(this.size,this.color):"instruments__buttons--circle"===this.targetInstrument.classList[0]?P(this.size,this.color):"instruments__buttons--move"===this.targetInstrument.classList[0]?X(this.size,this.color):"instruments__buttons--lighten"===this.targetInstrument.classList[0]?A(this.size,this.color):"instruments__buttons--dithering"===this.targetInstrument.classList[0]?L(this.size,this.color):"instruments__buttons--rectangle"===this.targetInstrument.classList[0]?E(this.size,this.color):"instruments__buttons--draw-color"===this.targetInstrument.classList[0]?B(this.size,this.color):"instruments__buttons--to-clear"===this.targetInstrument.classList[0]?O(this.size,this.color):"instruments__buttons--change-background"===this.targetInstrument.classList[0]?$(this.size,this.color):"instruments__buttons--random-pen"===this.targetInstrument.classList[0]?U(this.size,this.color):"instruments__buttons--inversion"===this.targetInstrument.classList[0]?T(this.size,this.color):"instruments__buttons--mirroring"===this.targetInstrument.classList[0]&&F(this.size,this.color)}}var V=function(t){const s=document.querySelector(".instrument__colors--input"),e=document.querySelector(".instruments__colors--new-color"),a=t;e.onmousedown=()=>{s.click(),s.onchange=()=>(function(t,s){const e=s;e.oldColor=e.newColor,e.newColor=t,new n(e.newColor,e.oldColor).start()})(s.value,a)}};class H{constructor(t,s){this.checkSize=t,this.defaultColor=s}target(){this.addKeys(),this.addListeners()}startInstrument(){const t=this.checkSize.tool.button,s=this.checkSize.data,e=this.defaultColor.data,a=t.innerText;new G(t,s,e,a).start()}addKeys(){this.checkSize.tool.keys=[],this.checkSize.tool.keys.push("p","c","b","e","s","o","m","l","d","r","w","t","k","x","i","g")}addListeners(){document.onkeypress=t=>{this.checkSize.instruments=document.getElementsByClassName("instrument");for(let s=0;s<this.checkSize.tool.keys.length;s+=1)if(t.key===this.checkSize.tool.keys[s]){if(!0===this.checkSize.tool.isActive){new v(this.checkSize).isNoActive(),this.checkSize.tool.isActive=!1}this.checkSize.tool.button=this.checkSize.instruments[s],this.checkSize.tool.buttonName=this.checkSize.tool.button.innerText,new g(this.checkSize).isActive(),this.checkSize.tool.isActive=!0}this.startInstrument()}}restoreEvents(t,s){this.defaultColor=s,this.checkSize=t,this.addListeners()}}var K=function(t,s){const{button:e}=t.tool,{buttonName:a}=t.tool,{keys:i}=t.tool;e.id="colorChangeKey";const n=[];for(let t=0;t<a.length;t+=1)n.push(a[t]);const o=n[n.length-2];document.onkeypress=a=>{const{key:r}=a;if(!0!==function(){for(let t=0;t<i.length;t+=1)if(i[t]===r)return!0;return!1}()){const s=function(){for(let t=0;t<i.length;t+=1)if(i[t]===o)return t;return-1}();n[n.length-2]=r;const a=n.join("");e.innerText=a,t.tool.keys[s]=r}e.id=!1,(new H).restoreEvents(t,s)}};class Q{constructor(t){this.data=t}addPage(){this.getColor(),this.viewNewPage()}getColor(){const t=[...Array(this.data.size)].map(()=>Array(this.data.size));this.data.oldActivePage=this.data.activePage,this.data.activePage=this.data.stack.length||1;for(let s=0;s<this.data.size;s+=1)for(let e=0;e<this.data.size;e+=1)t[s][e]=this.data.defaultColor;this.data.stack.push(t.map(t=>t.slice())),this.data.buttonStyle="add"}viewNewPage(){(new h).renderNewPage(this.data)}}class W{constructor(t){this.data=t,this.page=document.querySelector(".pages__page-operations")}delPage(){this.data.activePage-=1,this.data.activePage<0&&(this.data.activePage=0),this.data.pages[this.data.activePage].classList.add("is-active-page"),(new h).renderDelPage(this.data)}}class Z{constructor(t){this.data=t,this.pages=document.querySelector(".pages__page-operations")}delPage(){this.delData(),this.refactorId()}delData(){if(this.data.pages.length>1){this.data.oldActivePage=this.data.activePage,this.pages.removeChild(this.data.pages[this.data.activePage]),this.data.buttonStyle="del",this.data.pages.splice(this.data.activePage,1),this.data.stack.splice(this.data.activePage,1),new W(this.data).delPage()}}refactorId(){let t=0;const s=this.data.stack.length+1;for(let e=0;e<s;e+=1){const s=document.getElementById(`page${e}`);null!==s&&(s.id=`page${t}`,t+=1)}}}class tt{constructor(t){this.data=t}clonePage(){this.getColor(),this.viewNewPage()}getColor(){const t=[...Array(this.data.size)].map(()=>Array(this.data.size));this.data.oldActivePage=this.data.activePage,this.data.oldPage=this.data.stack[this.data.oldActivePage],this.data.activePage+=1;for(let s=0;s<this.data.size;s+=1)for(let e=0;e<this.data.size;e+=1)t[s][e]=this.data.oldPage[s][e];this.data.stack.splice(this.data.oldActivePage,0,t.map(t=>t.slice())),this.data.buttonStyle="clone"}viewNewPage(){(new h).renderClonePage(this.data)}}class st{constructor(t,s){this.data=t,this.event=s,this.canvas=document.querySelector(".pages__page-operations--page")}target(){if(this.data.oldActivePage=this.data.activePage,this.idStr=this.event.target.id,this.id=+this.idStr.replace(/\D+/g,""),this.id!==this.data.activePage){this.data.activePage=this.id,(new u).viewPageStart(this.data)}}}class et{constructor(t,s,e,a){this.data=t.data,this.startY=s,this.endY=e,this.eventMove=a}startMove(){this.data.movePage=this.data.pages[this.data.activePage],this.data.movePage.style.transform="scale(1.2, 1.2)";const t=+this.data.movePage.id[this.data.movePage.id.length-1],s=this.endY-this.startY,e=Math.floor(s/138);e&&(this.data.newPage=e+t,Math.abs(this.data.oldPage-this.data.newPage)>0&&(this.data.page1.classList.remove("after1"),this.data.page2.classList.remove("after2")),this.data.oldPage=this.data.newPage,this.data.delBut=document.querySelector(".pages__page-operations--del-page"),this.data.addBut=document.querySelector(".pages__page-operations--add-page"),this.data.page1=document.getElementById(`page${this.data.newPage}`)||this.data.addBut,this.data.page2=document.getElementById(`page${this.data.newPage+1}`)||this.data.delBut,this.data.page1.classList.add("after1"),this.data.page2.classList.add("after2"))}startMoveAfterUp(){this.data.movePage.style.transform="",this.data.buttonStyle="move",this.data.moveStack=this.data.stack[this.data.activePage],this.data.stack.splice(this.data.activePage,1);const t=this.data.page1.id[this.data.page1.id.length-1],s=this.data.page2.id[this.data.page2.id.length-1];this.data.activePage<this.data.newPage?this.data.stack.splice(t,0,this.data.moveStack):this.data.stack.splice(s,0,this.data.moveStack),this.data.movePage=this.data.pages[this.data.activePage],this.data.pages.splice(this.data.activePage,1);const e=this.data.page1.id[this.data.page1.id.length-1],a=this.data.page2.id[this.data.page2.id.length-1];this.data.activePage<this.data.newPage?(this.data.pages.splice(e,0,this.data.movePage),this.data.activePage=e):(this.data.pages.splice(a,0,this.data.movePage),this.data.activePage=a),this.data.page1.classList.remove("after1"),this.data.page2.classList.remove("after2"),(new h).renderMovePage(this.data)}}var at=function(t){const s=JSON.stringify(t.data);return localStorage.setItem("data",s),JSON.parse(localStorage.getItem("data"))};e(0);const it=new n;it.start();const nt=new class{constructor(){this.buttonSize32=document.querySelector(".general__canvas-size--32x32"),this.buttonSize64=document.querySelector(".general__canvas-size--64x64"),this.buttonSize128=document.querySelector(".general__canvas-size--128x128"),this.buttonLoad=document.querySelector(".general__canvas-size--load")}start(){this.addListeners()}next(t){this.model=new o(t),this.data=this.loadData||this.model.getModel(),this.view=new h(this.data),this.view.render(),this.animation=new l(this.data),this.animation.start(),this.coordinates=new d(this.data),this.coordinates.display()}addListeners(){this.buttonSize32.addEventListener("click",()=>{this.next(32)}),this.buttonSize64.addEventListener("click",()=>{this.next(64)}),this.buttonSize128.addEventListener("click",()=>{this.next(128)}),this.buttonLoad.addEventListener("click",()=>{this.loadData=JSON.parse(localStorage.getItem("data"));const{size:t}=this.loadData;this.loadData.buttonStyle="load",this.next(t)})}};nt.start(),new class{constructor(t,s){this.checkSize=t,this.defaultColor=s,this.checkSize.tool={isActive:!1}}startInstrument(){const t=this.checkSize.tool.button,s=this.checkSize.data,e=this.defaultColor.data;new G(t,s,e).start()}target(){V(this.defaultColor.data),document.querySelector(".instruments__buttons").addEventListener("click",t=>{if(t.target.closest(".instrument")){!0===this.checkSize.tool.isActive&&(new v(this.checkSize).isNoActive(),this.checkSize.tool.isActive=!1);const s=t.target;this.checkSize.tool.button=s,new g(this.checkSize).isActive(),this.checkSize.tool.isActive=!0,this.checkSize.tool.buttonName=this.checkSize.tool.button.innerText}this.startInstrument(),"instruments__buttons--change-key"===t.target.classList[0]&&!0===this.checkSize.tool.isActive&&K(this.checkSize,this.defaultColor)})}}(nt,it).target(),new H(nt,it).target(),new class{constructor(t){this.data=t,this.canvas=document.querySelector(".pages__page-operations--page"),this.pages=document.querySelector(".pages__page-operations")}isActive(){this.addListeners()}addListeners(){const t=document.querySelector(".pages__page-operations--add-page"),s=document.querySelector(".pages__page-operations--del-page"),e=document.querySelector(".pages__page-operations--clone-page");t.onclick=()=>this.addPage(),s.onclick=()=>this.delPage(),e.onclick=()=>this.clonePage(),this.pages.onclick=t=>{"canvas"===t.target.localName&&new st(this.data.data,t).target()},this.pages.onmousedown=t=>{let s=t.screenY;"canvas"===t.target.localName&&(this.pages.onmousemove=t=>{const e=t.screenY;Math.abs(s-e)>100&&new et(this.data,s,e,t).startMove(),this.pages.onmouseup=()=>{new et(this.data).startMoveAfterUp(),s=0,this.pages.onmousemove=null,this.pages.onmouseup=null}},this.pages.onmouseup=()=>{this.pages.onmousemove=null,this.pages.onmouseup=null})}}addPage(){new Q(this.data.data).addPage()}delPage(){new Z(this.data.data).delPage()}clonePage(){new tt(this.data.data).clonePage()}}(nt).isActive(),(new class{constructor(){this.fullScreenButton=document.querySelector(".container__animation--full-screen")}startFullScreen(){this.fullScreenButton.onclick=()=>{document.querySelector(".container__animation--canvas").webkitRequestFullscreen()}}}).startFullScreen(),new class{constructor(t,s){this.data=t,this.color=s,this.saveButton=document.querySelector(".container__animation--save")}saveData(){this.saveButton.onclick=()=>{at(this.data,this.color)}}}(nt,it).saveData()}]);
//# sourceMappingURL=app.bundle.js.map
